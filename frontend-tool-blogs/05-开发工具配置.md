# å¼€å‘å·¥å…·é…ç½® - æ‰“é€ æè‡´çš„å¼€å‘ä½“éªŒ

## å‰è¨€

å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚ä½œä¸ºç°ä»£å‰ç«¯å¼€å‘è€…ï¼Œåˆé€‚çš„å¼€å‘å·¥å…·å’Œé…ç½®èƒ½å¤§å¹…æå‡ä½ çš„å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å„ç§å¼€å‘å·¥å…·çš„é…ç½®å’Œä½¿ç”¨ï¼Œä»ç¼–è¾‘å™¨åˆ°è°ƒè¯•å·¥å…·ï¼Œè®©ä½ æ‹¥æœ‰ä¸€ä¸ªå®Œç¾çš„å¼€å‘ç¯å¢ƒã€‚

## VSCodeç¼–è¾‘å™¨é…ç½®

### æ ¸å¿ƒæ’ä»¶æ¨è
```json
// æ¨èæ’ä»¶åˆ—è¡¨
{
    "recommendations": [
        "dbaeumer.vscode-eslint",          // ESLint
        "esbenp.prettier-vscode",          // Prettier
        "ms-vscode.vscode-typescript-next", // TypeScript
        "bradlc.vscode-tailwindcss",       // Tailwind CSS
        "ms-vscode.vscode-json",            // JSON
        "ritwickdey.liveserver",            // Live Server
        "ms-vscode.debugger-for-chrome",    // Chrome Debugger
        "formulahendry.code-runner",        // Code Runner
        "christian-kohler.path-intellisense", // Path Intellisense
        "streetsidesoftware.code-spell-checker", // æ‹¼å†™æ£€æŸ¥
        "wix.vscode-import-cost",          // åŒ…å¤§å°åˆ†æ
        "eamodio.gitlens",                 // Git å¢å¼º
        "ms-vscode.vscode-node-debug-pack", // Node.js è°ƒè¯•
        "visualstudioexptteam.vscodeintellicode" // AI ä»£ç è¡¥å…¨
    ]
}
```

### VSCodeå·¥ä½œåŒºé…ç½®
```json
// .vscode/settings.json
{
    // ç¼–è¾‘å™¨é…ç½®
    "editor.fontSize": 14,
    "editor.lineHeight": 1.6,
    "editor.tabSize": 2,
    "editor.insertSpaces": true,
    "editor.wordWrap": "on",
    "editor.formatOnSave": true,
    "editor.formatOnPaste": true,
    "editor.renderWhitespace": "boundary",
    "editor.suggestSelection": "first",
    "editor.codeActionsOnSave": {
        "source.fixAll.eslint": true,
        "source.fixAll.format": true
    },

    // æ–‡ä»¶é…ç½®
    "files.encoding": "utf8",
    "files.autoSave": "afterDelay",
    "files.autoSaveDelay": 1000,
    "files.exclude": {
        "**/.git": true,
        "**/.svn": true,
        "**/.hg": true,
        "**/CVS": true,
        "**/.DS_Store": true,
        "**/node_modules": true,
        "**/dist": true,
        "**/build": true
    },
    "files.associations": {
        "*.js": "javascript",
        "*.jsx": "javascriptreact",
        "*.ts": "typescript",
        "*.tsx": "typescriptreact",
        "*.vue": "vue"
    },

    // æœç´¢é…ç½®
    "search.exclude": {
        "**/node_modules": true,
        "**/dist": true,
        "**/build": true
    },

    // ESLinté…ç½®
    "eslint.enable": true,
    "eslint.validate": [
        "javascript",
        "javascriptreact",
        "typescript",
        "typescriptreact",
        "vue"
    ],

    // Prettieré…ç½®
    "prettier.enable": true,
    "prettier.requireConfig": true,
    "prettier.useEditorConfig": true,

    // Terminalé…ç½®
    "terminal.integrated.shell.osx": "/bin/zsh",
    "terminal.integrated.fontFamily": "MesloLGS NF",
    "terminal.integrated.fontSize": 13,

    // å·¥ä½œåŒºé…ç½®
    "workspace.snippets.enable": true,
    "emmet.includeLanguages": {
        "javascript": "javascriptreact",
        "typescript": "typescriptreact",
        "vue-html": "html"
    },

    // è°ƒè¯•é…ç½®
    "debug.openDebug": "openOnDebugBreak",
    "debug.internalConsoleOptions": "openOnSessionStart",

    // å…¶ä»–é…ç½®
    "git.enableSmartCommit": true,
    "git.autofetch": true,
    "telemetry.enableTelemetry": false,
    "update.mode": "none"
}
```

### ä»£ç ç‰‡æ®µé…ç½®
```json
// .vscode/javascript.json
{
    "JavaScript Console Log": {
        "prefix": "cl",
        "body": [
            "console.log('$1', $1);"
        ],
        "description": "Console log"
    },
    "JavaScript Function": {
        "prefix": "func",
        "body": [
            "function ${1:name}(${2:params}) {",
            "    ${3:// body}",
            "}"
        ],
        "description": "JavaScript function"
    },
    "JavaScript Arrow Function": {
        "prefix": "arrow",
        "body": [
            "const ${1:name} = (${2:params}) => {",
            "    ${3:// body}",
            "};"
        ],
        "description": "Arrow function"
    },
    "JavaScript Class": {
        "prefix": "class",
        "body": [
            "class ${1:ClassName} {",
            "    constructor(${2:params}) {",
            "        ${3:// constructor body}",
            "    }",
            "",
            "    ${4:// methods}",
            "}"
        ],
        "description": "JavaScript class"
    },
    "Try Catch": {
        "prefix": "try",
        "body": [
            "try {",
            "    ${1:// try block}",
            "} catch (${2:error}) {",
            "    ${3:// catch block}",
            "}"
        ],
        "description": "Try catch block"
    }
}
```

### è°ƒè¯•é…ç½®
```json
// .vscode/launch.json
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Launch Chrome",
            "type": "chrome",
            "request": "launch",
            "url": "http://localhost:3000",
            "webRoot": "${workspaceFolder}/src",
            "sourceMaps": true,
            "userDataDir": false
        },
        {
            "name": "Attach to Chrome",
            "type": "chrome",
            "request": "attach",
            "port": 9222,
            "webRoot": "${workspaceFolder}/src",
            "url": "http://localhost:3000"
        },
        {
            "name": "Launch Node.js",
            "type": "node",
            "request": "launch",
            "program": "${workspaceFolder}/app.js",
            "console": "integratedTerminal",
            "internalConsoleOptions": "openOnSessionStart"
        },
        {
            "name": "Debug Tests",
            "type": "node",
            "request": "launch",
            "program": "${workspaceFolder}/node_modules/.bin/jest",
            "args": [
                "--runInBand",
                "--config",
                "jest.config.js"
            ],
            "console": "integratedTerminal",
            "internalConsoleOptions": "neverOpen"
        },
        {
            "name": "Nodemon",
            "type": "node",
            "request": "launch",
            "program": "${workspaceFolder}/app.js",
            "runtimeExecutable": "nodemon",
            "restart": true,
            "console": "integratedTerminal",
            "internalConsoleOptions": "neverOpen"
        }
    ]
}
```

## ä»»åŠ¡é…ç½®
```json
// .vscode/tasks.json
{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Start Development Server",
            "type": "shell",
            "command": "npm run dev",
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared"
            },
            "problemMatcher": []
        },
        {
            "label": "Build Project",
            "type": "shell",
            "command": "npm run build",
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared"
            },
            "problemMatcher": []
        },
        {
            "label": "Run Tests",
            "type": "shell",
            "command": "npm test",
            "group": "test",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": false,
                "panel": "shared"
            },
            "problemMatcher": []
        },
        {
            "label": "Install Dependencies",
            "type": "shell",
            "command": "npm install",
            "problemMatcher": []
        },
        {
            "label": "Clean Project",
            "type": "shell",
            "command": "rm -rf node_modules dist build",
            "problemMatcher": []
        }
    ]
}
```

## ç»ˆç«¯é…ç½®

### Zshé…ç½®
```bash
# ~/.zshrc
# å¯¼å…¥Oh My Zshé…ç½®
export ZSH="$HOME/.oh-my-zsh"
ZSH_THEME="agnoster"
plugins=(git npm node yarn docker kubectl)

source $ZSH/oh-my-zsh.sh

# è‡ªå®šä¹‰åˆ«å
alias gs="git status"
alias gc="git commit"
alias gp="git push"
alias gl="git pull"
alias ga="git add"
alias gd="git diff"
alias gb="git branch"
alias gco="git checkout"

# npmåˆ«å
alias ni="npm install"
alias nid="npm install --save-dev"
alias nrs="npm run start"
alias nrb="npm run build"
alias nrt="npm run test"
alias nrd="npm run dev"

# ç›®å½•åˆ«å
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias ~="cd ~"

# å·¥å…·åˆ«å
alias cls="clear"
alias ll="ls -la"
alias la="ls -a"
alias mkdir="mkdir -p"

# ç¯å¢ƒå˜é‡
export EDITOR="code"
export VISUAL="code"
export PAGER="less"
export LESS="-R"

# Node.jsç‰ˆæœ¬ç®¡ç†
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"

# PATHé…ç½®
export PATH="$HOME/.npm-global/bin:$PATH"
export PATH="./node_modules/.bin:$PATH"

# å‡½æ•°
mkcd() {
    mkdir -p "$1" && cd "$1"
}

take() {
    mkdir -p "$1"
    cd "$1"
}

# é¡¹ç›®ç›¸å…³å‡½æ•°
dev() {
    if [ -f "package.json" ]; then
        npm run dev
    else
        echo "No package.json found"
    fi
}

build() {
    if [ -f "package.json" ]; then
        npm run build
    else
        echo "No package.json found"
    fi
}

test() {
    if [ -f "package.json" ]; then
        npm test
    else
        echo "No package.json found"
    fi
}
```

### Gité…ç½®
```bash
# ~/.gitconfig
[user]
    name = Your Name
    email = your.email@example.com

[core]
    editor = code
    autocrlf = input
    safecrlf = true
    ignorecase = false

[init]
    defaultBranch = main

[alias]
    # çŠ¶æ€åˆ«å
    st = status
    co = checkout
    br = branch
    ci = commit
    sta = stash
    pop = stash pop

    # æ—¥å¿—åˆ«å
    lg = log --oneline --graph --decorate --all
    ll = log --oneline
    la = log --oneline --author
    lt = log --oneline --since="1 week ago"

    # æäº¤åˆ«å
    amend = commit --amend
    cm = commit -m
    ca = commit -am
    cma = commit --amend --no-edit

    # åˆ†æ”¯åˆ«å
    nb = checkout -b
    bd = branch -d
    bD = branch -D

    # è¿œç¨‹åˆ«å
    pusho = push origin
    pullo = pull origin
    clo = clone

    # æ’¤é”€åˆ«å
    unstage = reset HEAD --
    undo = reset --soft HEAD^
    scrap = reset --hard HEAD

[merge]
    tool = vscode

[mergetool "vscode"]
    cmd = code --wait $MERGED

[diff]
    tool = vscode

[difftool "vscode"]
    cmd = code --wait --diff $LOCAL $REMOTE

[color]
    ui = auto

[color "branch"]
    current = yellow reverse
    local = yellow
    remote = green

[color "diff"]
    meta = yellow bold
    frag = magenta bold
    old = red
    new = green

[color "status"]
    added = green
    changed = yellow
    untracked = red
```

## Dockeré…ç½®

### Dockerfileç¤ºä¾‹
```dockerfile
# Node.jså¼€å‘ç¯å¢ƒ
FROM node:18-alpine

# å®‰è£…å¿…è¦çš„ç³»ç»ŸåŒ…
RUN apk add --no-cache \
    git \
    bash \
    zsh \
    curl \
    wget

# å®‰è£…Oh My Zsh
RUN sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended

# å®‰è£…æ’ä»¶
RUN git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
RUN git clone https://github.com/zsh-users/zsh-syntax-highlighting ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

# é…ç½®zsh
RUN sed -i 's/plugins=(git)/plugins=(git zsh-autosuggestions zsh-syntax-highlighting npm node docker)/g' ~/.zshrc

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /workspace

# åˆ‡æ¢åˆ°zsh
CMD [ "zsh" ]
```

### Docker Composeé…ç½®
```yaml
# docker-compose.yml
version: '3.8'

services:
  app:
    build: .
    volumes:
      - .:/workspace
      - node_modules:/workspace/node_modules
    ports:
      - "3000:3000"
      - "9229:9229"
    environment:
      - NODE_ENV=development
      - CHOKIDAR_USEPOLLING=true
    command: zsh

  db:
    image: mongo:5
    ports:
      - "27017:27017"
    volumes:
      - mongodb_data:/data/db
    environment:
      MONGO_INITDB_ROOT_USERNAME: admin
      MONGO_INITDB_ROOT_PASSWORD: password

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data

volumes:
  node_modules:
  mongodb_data:
  redis_data:
```

## è°ƒè¯•å·¥å…·é…ç½®

### Chrome DevToolsé…ç½®
```javascript
// åœ¨ä»£ç ä¸­æ·»åŠ è°ƒè¯•å™¨
const debug = require('debug')('app:server');

// ä½¿ç”¨debug
debug('Server starting on port %d', port);

// æ¡ä»¶æ–­ç‚¹
if (process.env.DEBUG) {
    console.log('Debug mode enabled');
}

// æ€§èƒ½ç›‘æ§
const perf = {
    start: Date.now(),
    mark: (label) => {
        console.log(`[PERF] ${label}: ${Date.now() - perf.start}ms`);
    }
};
```

### Node.jsæ£€æŸ¥å™¨
```javascript
// å¯ç”¨æ£€æŸ¥å™¨
node --inspect app.js
node --inspect-brk app.js  // åœ¨ç¬¬ä¸€è¡Œæ–­ç‚¹

// åœ¨ä»£ç ä¸­å¯ç”¨
const inspector = require('inspector');
inspector.open(9229, '0.0.0.0', true);
```

## ç›‘æ§å’Œæ—¥å¿—é…ç½®

### Winstonæ—¥å¿—é…ç½®
```javascript
// logger.js
const winston = require('winston');
const { combine, timestamp, printf, colorize, errors } = winston.format;

const logFormat = printf(({ level, message, timestamp, stack }) => {
    return `${timestamp} [${level}]: ${stack || message}`;
});

const logger = winston.createLogger({
    level: process.env.LOG_LEVEL || 'info',
    format: combine(
        errors({ stack: true }),
        timestamp(),
        logFormat
    ),
    transports: [
        new winston.transports.Console({
            format: combine(
                colorize(),
                errors({ stack: true }),
                timestamp(),
                logFormat
            )
        }),
        new winston.transports.File({
            filename: 'logs/error.log',
            level: 'error',
            format: combine(
                errors({ stack: true }),
                timestamp(),
                logFormat
            )
        }),
        new winston.transports.File({
            filename: 'logs/combined.log',
            format: combine(
                errors({ stack: true }),
                timestamp(),
                logFormat
            )
        })
    ]
});

module.exports = logger;
```

### PM2é…ç½®
```javascript
// ecosystem.config.js
module.exports = {
    apps: [{
        name: 'my-app',
        script: 'app.js',
        instances: 'max',
        exec_mode: 'cluster',
        env: {
            NODE_ENV: 'development',
            PORT: 3000
        },
        env_production: {
            NODE_ENV: 'production',
            PORT: 8080
        },
        log_file: 'logs/combined.log',
        out_file: 'logs/out.log',
        error_file: 'logs/error.log',
        log_date_format: 'YYYY-MM-DD HH:mm:ss Z',
        merge_logs: true,
        max_memory_restart: '1G',
        watch: false,
        max_restarts: 5,
        min_uptime: '10s',
        node_args: '--max-old-space-size=1024'
    }]
};
```

## å®ç”¨è„šæœ¬é…ç½®

### package.jsonè„šæœ¬
```json
{
    "scripts": {
        "dev": "nodemon app.js",
        "start": "node app.js",
        "build": "webpack --mode production",
        "test": "jest",
        "test:watch": "jest --watch",
        "test:coverage": "jest --coverage",
        "lint": "eslint src --ext .js,.jsx,.ts,.tsx",
        "lint:fix": "eslint src --ext .js,.jsx,.ts,.tsx --fix",
        "format": "prettier --write src/**/*.{js,jsx,ts,tsx,json,css,scss,md}",
        "format:check": "prettier --check src/**/*.{js,jsx,ts,tsx,json,css,scss,md}",
        "clean": "rm -rf node_modules dist build logs",
        "reinstall": "npm run clean && npm install",
        "analyze": "webpack-bundle-analyzer stats.json",
        "deploy": "npm run build && npm run test && npm run lint",
        "prepare": "husky install",
        "commit": "git-cz",
        "release": "standard-version",
        "docker:build": "docker build -t my-app .",
        "docker:run": "docker run -p 3000:3000 my-app",
        "docker:dev": "docker-compose up",
        "logs": "pm2 logs",
        "logs:clear": "pm2 flush",
        "monitor": "pm2 monit"
    }
}
```

### è‡ªåŠ¨åŒ–è„šæœ¬
```bash
#!/bin/bash
# scripts/setup.sh
set -e

echo "ğŸš€ å¼€å§‹è®¾ç½®å¼€å‘ç¯å¢ƒ..."

# æ£€æŸ¥Node.jsç‰ˆæœ¬
if ! command -v node &> /dev/null; then
    echo "âŒ Node.jsæœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£…Node.js"
    exit 1
fi

# æ£€æŸ¥npmç‰ˆæœ¬
if ! command -v npm &> /dev/null; then
    echo "âŒ npmæœªå®‰è£…ï¼Œè¯·å…ˆå®‰è£…npm"
    exit 1
fi

echo "ğŸ“¦ å®‰è£…ä¾èµ–..."
npm install

echo "ğŸ”§ è®¾ç½®Git hooks..."
npm run prepare

echo "ğŸ“‹ æ£€æŸ¥ä»£ç æ ¼å¼..."
npm run format:check

echo "ğŸ§ª è¿è¡Œæµ‹è¯•..."
npm test

echo "âœ… å¼€å‘ç¯å¢ƒè®¾ç½®å®Œæˆï¼"
echo "ğŸ‰ å¼€å§‹ä½ çš„å¼€å‘ä¹‹æ—…å§ï¼"
```

## æ€§èƒ½ç›‘æ§é…ç½®

### New Relicé…ç½®
```javascript
// newrelic.js
exports.config = {
    app_name: ['My Application'],
    license_key: 'YOUR_LICENSE_KEY',
    logging: {
        level: 'info'
    },
    allow_all_headers: true,
    attributes: {
        exclude: [
            'request.headers.cookie',
            'request.headers.authorization',
            'request.headers.proxyAuthorization',
            'request.headers.set-cookie*',
            'request.headers.x-*',
            'response.headers.cookie',
            'response.headers.set-cookie*',
            'response.headers.x-*'
        ]
    }
};
```

### Sentryé…ç½®
```javascript
// sentry.js
const Sentry = require('@sentry/node');
const { nodeProfilingIntegration } = require('@sentry/profiling-node');

Sentry.init({
    dsn: 'YOUR_DSN',
    integrations: [
        nodeProfilingIntegration()
    ],
    tracesSampleRate: 1.0,
    profilesSampleRate: 1.0,
});

module.exports = Sentry;
```

## å¸¸è§é—®é¢˜è§£ç­”

### Q: VSCodeå¯åŠ¨ç¼“æ…¢æ€ä¹ˆåŠï¼Ÿ
A: ç¦ç”¨ä¸å¿…è¦çš„æ’ä»¶ã€æ¸…ç†ç¼“å­˜ã€å¢åŠ å†…å­˜é™åˆ¶ã€ä½¿ç”¨å·¥ä½œåŒºè®¾ç½®ã€‚

### Q: å¦‚ä½•ç®¡ç†å¤šä¸ªNode.jsç‰ˆæœ¬ï¼Ÿ
A: ä½¿ç”¨nvmæˆ–fnmè¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œåˆ›å»º.nvmrcæ–‡ä»¶æŒ‡å®šé¡¹ç›®ç‰ˆæœ¬ã€‚

### Q: è°ƒè¯•æ—¶æ–­ç‚¹ä¸ç”Ÿæ•ˆæ€ä¹ˆåŠï¼Ÿ
A: ç¡®ä¿sourceMapsé…ç½®æ­£ç¡®ï¼Œæ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜ å°„ï¼Œä½¿ç”¨--inspect-brkå¯åŠ¨ã€‚

## æ€»ç»“

é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œä½ å·²ç»æŒæ¡äº†ï¼š

1. VSCodeç¼–è¾‘å™¨çš„å®Œæ•´é…ç½®
2. ç»ˆç«¯å’ŒShellçš„ä¼˜åŒ–è®¾ç½®
3. è°ƒè¯•å·¥å…·çš„é…ç½®å’Œä½¿ç”¨
4. æ—¥å¿—å’Œç›‘æ§ç³»ç»Ÿçš„æ­å»º
5. è‡ªåŠ¨åŒ–è„šæœ¬çš„ç¼–å†™
6. Dockerå¼€å‘ç¯å¢ƒçš„é…ç½®
7. å„ç§å®ç”¨å·¥å…·çš„é›†æˆ

ä¸€ä¸ªå¥½çš„å¼€å‘ç¯å¢ƒèƒ½å¤§å¹…æå‡ä½ çš„å¼€å‘æ•ˆç‡å’Œå¹¸ç¦æ„Ÿã€‚å»ºè®®ä½ æ ¹æ®è‡ªå·±çš„ä¹ æƒ¯é€æ­¥è°ƒæ•´å’Œä¼˜åŒ–è¿™äº›é…ç½®ï¼Œæ‰“é€ æœ€é€‚åˆè‡ªå·±çš„å¼€å‘ç¯å¢ƒã€‚

ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å°†å­¦ä¹ é¡¹ç›®éƒ¨ç½²ï¼Œå°†ä½ çš„åº”ç”¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚

---

**æ‰©å±•é˜…è¯»ï¼š**
- [VSCodeæ–‡æ¡£](https://code.visualstudio.com/docs)
- [Oh My Zshæ–‡æ¡£](https://ohmyz.sh/)
- [Dockeræ–‡æ¡£](https://docs.docker.com/)

**ç»ƒä¹ é¡¹ç›®ï¼š**
1. åˆ›å»ºè‡ªå·±çš„å¼€å‘ç¯å¢ƒé…ç½®åŒ…
2. æ­å»ºä¸€ä¸ªå®Œæ•´çš„Dockerå¼€å‘ç¯å¢ƒ
3. å®ç°ä¸€ä¸ªè‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬